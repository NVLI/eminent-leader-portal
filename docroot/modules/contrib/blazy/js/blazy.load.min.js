!function(i,n,t,e,a){"use strict";n.behaviors.blazy={attach:function(t){var o=n.blazy,l=i("[data-blazy]",t),s=o.globalSettings();l.length||(o.init=new Blazy(s)),l.once("blazy").each(function(){var n=i(this),t=n.data("blazy")||{},l=i.extend({},s,t);o.init=new Blazy(l),n.data("blazy",l),o.resizing(function(){o.windowWidth=e.innerWidth||a.documentElement.clientWidth||i(e).width(),n.trigger("resizing",[o.windowWidth])})()})}},n.blazy={init:null,windowWidth:0,globalSettings:function(){var n=this,e=t.blazy||{},a={dimensions:!1,success:function(i){n.clearing(i)},error:function(i,t){n.clearing(i)}};return i.extend(e,a)},updateRatio:function(n,t,e){var a=this,o=null;e.dimensions&&(i.each(e.dimensions,function(i,n){o=a.windowWidth>=i?n:null}),null!==o&&t.css({paddingBottom:o+"%"}))},clearing:function(n){var t,a=this,o=i(n),l=o.closest("[data-blazy]"),s=o.closest(".media--ratio"),d=l.data("blazy");e.clearTimeout(t),t=e.setTimeout(function(){o.closest(".media--loading").removeClass("media--loading").addClass("media--loaded")},200),d&&s.length&&(a.updateRatio(o,s,d),l.on("resizing",function(){a.updateRatio(o,s,d)}))},resizing:function(i,n){return e.onresize=function(){e.clearTimeout(n),n=e.setTimeout(i,200)},i}}}(jQuery,Drupal,drupalSettings,this,this.document);
